# =====================================================
# CartSaver Backend Environment Configuration
# =====================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env file to version control
# =====================================================

# =====================================================
# APPLICATION SETTINGS
# =====================================================

# Server Configuration
NODE_ENV=development
PORT=5000
API_BASE_URL=http://localhost:5000

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:3000

# =====================================================
# DATABASE CONFIGURATION
# =====================================================

# PostgreSQL Connection
DB_HOST=localhost
DB_PORT=5432
DB_NAME=cartsaver_db
DB_USER=postgres
DB_PASSWORD=your_password_here

# Database Connection Pool (Performance Optimization)
DB_POOL_MAX=10
DB_POOL_MIN=2

# =====================================================
# JWT AUTHENTICATION
# =====================================================

# JWT Secret (Generate with: openssl rand -base64 32)
JWT_SECRET=your_super_secret_jwt_key_change_this_in_production
JWT_EXPIRES_IN=7d

# =====================================================
# REDIS CACHE (Optional - for better performance)
# =====================================================
# Leave empty to use in-memory cache (development)
# Use Redis in production for better performance

# Redis Connection (use URL OR individual settings)
# REDIS_URL=redis://localhost:6379

# OR individual settings:
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=

# =====================================================
# CRON JOB CONFIGURATION
# =====================================================

# Inactivity Threshold (days)
INACTIVITY_THRESHOLD_DAYS=7

# Cron Schedule (default: daily at midnight)
# Format: minute hour day month weekday
CRON_SCHEDULE=0 0 * * *

# =====================================================
# EMAIL CONFIGURATION (Optional)
# =====================================================

# SMTP Settings for Alert Emails
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
SMTP_FROM=cartsaver@example.com

# =====================================================
# LOGGING
# =====================================================

# Log Level (error, warn, info, debug)
LOG_LEVEL=info

# =====================================================
# RATE LIMITING
# =====================================================

# API Rate Limit (requests per window in development)
# Production uses stricter limits automatically
RATE_LIMIT_MAX=1000
RATE_LIMIT_WINDOW_MS=900000

# =====================================================
# SECURITY
# =====================================================

# Security Features (set to false only in development if needed)
ENABLE_HELMET=true
ENABLE_CORS=true

# =====================================================
# QUICK START GUIDE
# =====================================================
# 1. Copy this file: cp .env.example .env
# 2. Update DB_PASSWORD with your PostgreSQL password
# 3. Generate a secure JWT_SECRET: openssl rand -base64 32
# 4. (Optional) Configure Redis for production caching
# 5. (Optional) Set up SMTP for email alerts
# 6. Run migrations: npm run migrate
# 7. Start server: npm run dev
# =====================================================
